[build]
builder = "nixpacks"

[deploy]
startCommand = "python init_db.py && uvicorn api.main:app --host 0.0.0.0 --port $PORT --workers 1"
healthcheckPath = "/api/v1/health"
healthcheckTimeout = 100
restartPolicyType = "on-failure"
restartPolicyMaxRetries = 3

[build.nixpacksPlan]
providers = ["python"]

[build.nixpacksVersions]
python = "3.11"
